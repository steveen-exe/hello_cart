{% extends 'blank_layout.html' %}
{%load static%}

{% block banner %}
<style>
    .error {
        background-color: #f8d7da;
        color: red;
        padding: 12px;
        font-size: 14px;
        margin-bottom: 10px;

    }

    .success {
        background-color: #73d329;
        color: rgb(123, 255, 0);
        padding: 12px;
        font-size: 14px;
        margin-bottom: 10px;
    }
</style>
<div class="account-page">
    <div class="container">
        <div class="row">

            <div class="col-2"><!--1 column for image and other for form-->
                <img src="{% static 'images/image1.png' %}">
            </div>

            <div class="col-2">
                <div class="form-container">
                    <!-- Show messages above Login/Register -->
                    <div class="form-btn">
                        <span onclick="login()">Login</span>
                        <span onclick="register()">Register</span>
                        <hr id="Indicator">
                    </div>

                    <form id="LoginForm" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="text" name="username" maxlength="10" minlength="6" placeholder="Username" required>
                        <input type="password" name="password" required placeholder="Password">
                        <button type="Submit" class="btn" name="login">Login</button>
                        <a href="">Forgot Password?</a>
                        {% if messages %}
                        <div style="margin-bottom: 20px; text-align: center;">
                            {% for message in messages %}
                            <div class="{{ message.tags }}">
                                {{ message }}
                            </div>
                            {% endfor %}
                        </div>
                        {% endif %}

                    </form>

                    <form id="RegForm" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="text" name="username" maxlength="10" minlength="6" placeholder="Username" required>
                        <input type="email" name="email" required placeholder="Email">
                        <input type="password" name="password" required placeholder="Password">
                        <input type="text" name="address" minlength="5" required placeholder="Address">
                        <input type="number" name="phone" minlength="10" required placeholder="Phone">
                        <button type="Submit" class="btn" name="register">Register</button>
                    </form>
                </div>

            </div>
        </div>

    </div>
</div>
{% endblock banner %}
{%block extra_scripts%}
<script class="__web-inspector-hide-shortcut__">
    var LoginForm = document.getElementById("LoginForm");
    var RegForm = document.getElementById("RegForm");
    var Indicator = document.getElementById("Indicator");

    function register() {//by 

        RegForm.style.transform = "translateX(0px)";//in Css, by default we set translatex(100) so by default, we are at register, thats why when person clicks on register, everything stayed there stayed there
        LoginForm.style.transform = "translateX(0px)";
        Indicator.style.transform = "translateX(100px)";//As mentioned above, in css translatex(100) is set, so for indicator to be by default on register, we set it to 100px;
    }

    function login() {

        RegForm.style.transform = "translateX(300px)";//when person clicks on login, login form shift to 300px forward and register form goes 300px outside, but we cannot see it as we use overflow=hidden in css, if want to see, then remove overflow property.
        LoginForm.style.transform = "translateX(300px)";
        Indicator.style.transform = "translateX(0px)";//as by default on 100px or on register, so when clicks on login, it comes back to 0 px
    }
</script>

{% if register %}
<script>
    register()
</script>
{%else%}
<script>
    login()
</script>
{%endif%}
{%endblock extra_scripts%}